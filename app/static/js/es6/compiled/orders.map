{"version":3,"file":"orders.js","sources":["/Users/andrew/Documents/Code/super-take-out/app/static/js/es6/orders.es6.js"],"names":[],"mappings":"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","sourcesContent":["/* global ajax */\n/* jshint unused:false */\n(function(){\n  'use strict';\n\n  $(document).ready(init);\n\n  function init(){\n    $('#order').on('change', '.menu', getMenu);\n    $('#order').on('change', '.dish', recalcTotal);\n    $('#add').click(addRow);\n    $('#order').on('click', '.deleteRow', deleteRow);\n    $('form#order').on('change', 'input', recalcTotal);\n    $('form#order').on('blur', 'input', recalcTotal);\n  }\n\n  function recalcTotal(){\n    var dollarTotal = 0;\n    var calorieTotal = 0;\n    var items = $('.menu-item').toArray();\n    items.forEach(item=>{\n      var cost = $(item).find('.dish').find(':selected').attr('data-cost') * 1;\n      var calories = $(item).find('.dish').find(':selected').attr('data-calories') * 1;\n      var qty = $($(item).children()[0]).val();\n      if(!isNaN(cost) && !isNaN(calories)){\n        if(qty > 0){\n          dollarTotal += cost * qty;\n          calorieTotal += calories * qty;\n        }\n      }\n    });\n    $('#dollars').text(`$ ${dollarTotal.toFixed(2)}`);\n    $('#calories').text(`Calories: ${calorieTotal}`);\n  }\n\n  function deleteRow(event){\n    if($('.menu-item').length > 1){\n      $(this).closest('.menu-item').remove();\n    }\n    recalcTotal();\n    event.preventDefault();\n  }\n\n  function addRow(){\n    $($('.menu-item')[0]).clone().prependTo('#order');\n  }\n\n  function getMenu(){\n    var menu = $(this).val();\n    ajax(`/dishes/${menu}`, 'get', null, res=>{\n      $(this).next().empty().append(res);\n      recalcTotal();\n    });\n  }\n})();\n"]}